<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üß™ –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            line-height: 1.6;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #8B2439;
        }
        .feature-section {
            margin: 25px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid #8B2439;
        }
        .feature-title {
            color: #8B2439;
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .changes-list {
            list-style: none;
            padding: 0;
        }
        .changes-list li {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
        }
        .fixed { background: #d4edda; color: #155724; }
        .new { background: #cce5ff; color: #004085; }
        .improved { background: #fff3cd; color: #856404; }
        
        .demo-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .demo-button {
            padding: 15px 20px;
            background: linear-gradient(135deg, #8B2439 0%, #a64d61 100%);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }
        .demo-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 36, 57, 0.3);
        }
        .api-status {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
        .code-block {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            margin: 10px 0;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß™ –¢–µ—Å—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h1>
            <p>–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã! –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç</p>
        </div>

        <!-- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã -->
        <div class="feature-section">
            <div class="feature-title">
                ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
            </div>
            <ul class="changes-list">
                <li>
                    <span class="status-badge fixed">–ò–°–ü–†–ê–í–õ–ï–ù–û</span>
                    –í —Ç–∞–±–ª–∏—Ü–µ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–ª–∞—Å—Å –∏ –∫–æ—Ç—Ç–µ–¥–∂
                </li>
                <li>
                    <span class="status-badge fixed">–ò–°–ü–†–ê–í–õ–ï–ù–û</span>
                    –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —É—á–µ–Ω–∏–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
                </li>
                <li>
                    <span class="status-badge fixed">–ò–°–ü–†–ê–í–õ–ï–ù–û</span>
                    –ú–æ–¥–∞–ª —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –ø–æ–ª—è –∏–∑ —Å–æ–∑–¥–∞–Ω–∏—è
                </li>
                <li>
                    <span class="status-badge new">–ù–û–í–û–ï</span>
                    –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ "–î–æ–ª–∂–Ω–æ—Å—Ç–∏" –≤ —Ç–∞–±–ª–∏—Ü–µ
                </li>
                <li>
                    <span class="status-badge improved">–£–õ–£–ß–®–ï–ù–û</span>
                    –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (—Ä–∞—Å—á–µ—Ç–Ω—ã–π + –∫—Ä–µ–¥–∏—Ç–Ω—ã–π)
                </li>
            </ul>
        </div>

        <!-- –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å -->
        <div class="feature-section">
            <div class="feature-title">
                üÜï –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
            </div>
            <ul class="changes-list">
                <li>
                    <span class="status-badge new">–ù–û–í–´–ô –ú–û–î–ê–õ</span>
                    StudentDetailsModal - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—É–¥–µ–Ω—Ç–∞
                </li>
                <li>
                    <span class="status-badge new">–ù–ê–í–ò–ì–ê–¶–ò–Ø</span>
                    –ö–ª–∏–∫ –ø–æ —Å—Ç—Ä–æ–∫–µ ‚Üí –î–µ—Ç–∞–ª–∏, –∫–Ω–æ–ø–∫–∞ ‚úèÔ∏è ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
                </li>
                <li>
                    <span class="status-badge new">–î–ò–ó–ê–ô–ù</span>
                    –ê–≤–∞—Ç–∞—Ä —Å –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏, —Ü–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
                </li>
                <li>
                    <span class="status-badge new">–î–ê–ù–ù–´–ï</span>
                    –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç—á–µ—Å—Ç–≤–∞, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
                </li>
            </ul>
        </div>

        <!-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã -->
        <div class="feature-section">
            <div class="feature-title">
                üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã
            </div>
            <div class="api-status">
                <p><strong>–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–æ–≤:</strong></p>
                <div id="systemStatus">üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
            </div>
        </div>

        <!-- –î–µ–º–æ —Å—Å—ã–ª–∫–∏ -->
        <div class="feature-section">
            <div class="feature-title">
                üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
            </div>
            <div class="demo-buttons">
                <button class="demo-button" onclick="openStudentsPage()">
                    üë• –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
                </button>
                <button class="demo-button" onclick="testBackendAPI()">
                    üîó –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Backend API
                </button>
                <button class="demo-button" onclick="createTestStudent()">
                    ‚ûï –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞
                </button>
                <button class="demo-button" onclick="checkTableDisplay()">
                    üìä –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
                </button>
            </div>
        </div>

        <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é -->
        <div class="feature-section">
            <div class="feature-title">
                üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
            </div>
            <ol>
                <li><strong>–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</strong> - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ</li>
                <li><strong>–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–æ–∫—É —Å—Ç—É–¥–µ–Ω—Ç–∞</strong> - –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –º–æ–¥–∞–ª —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π</li>
                <li><strong>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ‚úèÔ∏è</strong> - –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –º–æ–¥–∞–ª —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ –≤—Å–µ–º–∏ –ø–æ–ª—è–º–∏</li>
                <li><strong>–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞</strong> - –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –≤–∫–ª—é—á–∞—è –¥–æ–ª–∂–Ω–æ—Å—Ç–∏ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</li>
                <li><strong>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω—ã</strong> - —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—É–º–º–∞ —Ä–∞—Å—á–µ—Ç–Ω–æ–≥–æ –∏ –∫—Ä–µ–¥–∏—Ç–Ω–æ–≥–æ —Å—á–µ—Ç–æ–≤</li>
            </ol>
        </div>

        <!-- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
        <div class="feature-section">
            <div class="feature-title">
                ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
            </div>
            <div class="code-block">
–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- EditStudentModal.tsx ‚úÖ (–¥–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø–æ–ª—è)
- StudentsTable.tsx ‚úÖ (–Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏, —É–ª—É—á—à–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
- StudentDetailsModal.tsx ‚úÖ (–Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
- students/page.tsx ‚úÖ (–æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)

–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—É–¥–µ–Ω—Ç–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Å—Ç—Ä–æ–∫—É
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –æ–±—â–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤
- –ê–≤–∞—Ç–∞—Ä—ã —Å –∏–Ω–∏—Ü–∏–∞–ª–∞–º–∏
- –¶–≤–µ—Ç–Ω—ã–µ –±–µ–π–¥–∂–∏ –¥–ª—è —Å—Ç–∞—Ç—É—Å–æ–≤
            </div>
        </div>

        <div style="text-align: center; margin-top: 30px; padding: 20px; background: #f0f8ff; border-radius: 10px;">
            <h3 style="color: #8B2439;">üéâ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!</h3>
            <p>–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å –ø–æ–ª–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö</p>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:3001/api';
        const FRONTEND_URL = 'http://localhost:3000';

        async function checkSystemStatus() {
            const statusDiv = document.getElementById('systemStatus');
            
            try {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ Backend
                const backendResponse = await fetch(API_BASE + '/health');
                const backendData = await backendResponse.json();
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                const usersResponse = await fetch(API_BASE + '/users');
                const usersData = await usersResponse.json();
                const students = usersData.filter(u => u.role === 'STUDENT');

                statusDiv.innerHTML = `
                    ‚úÖ Backend: –†–∞–±–æ—Ç–∞–µ—Ç (${backendData.status})<br>
                    ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: ${backendData.database}<br>
                    üìä –í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ${usersData.length}<br>
                    üéì –°—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ: ${students.length}<br>
                    üìä –í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏: ${new Date().toLocaleTimeString()}
                `;
            } catch (error) {
                statusDiv.innerHTML = `‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É: ${error.message}`;
            }
        }

        function openStudentsPage() {
            window.open(FRONTEND_URL + '/students', '_blank');
        }

        async function testBackendAPI() {
            try {
                const response = await fetch(API_BASE + '/users');
                const data = await response.json();
                const students = data.filter(u => u.role === 'STUDENT');
                
                alert(`‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç!\n\n–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ${data.length}\n–°—Ç—É–¥–µ–Ω—Ç–æ–≤: ${students.length}\n\n–ü—Ä–∏–º–µ—Ä —Å—Ç—É–¥–µ–Ω—Ç–∞:\n${JSON.stringify(students[0] || {}, null, 2)}`);
            } catch (error) {
                alert(`‚ùå –û—à–∏–±–∫–∞ API: ${error.message}`);
            }
        }

        async function createTestStudent() {
            const testStudent = {
                email: `test.student.${Date.now()}@lyceum.test`,
                firstName: '–¢–µ—Å—Ç–æ–≤—ã–π',
                lastName: '–°—Ç—É–¥–µ–Ω—Ç',
                middleName: '–ò–≤–∞–Ω–æ–≤–∏—á',
                role: 'STUDENT',
                profileData: {
                    className: '10–ê',
                    cottage: '–ê–ª—å—Ñ–∞',
                    phone: '+7-900-123-45-67',
                    membership: '–°—Ç–∞—Ä–æ—Å—Ç–∞',
                    positions: ['–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç', '–ú–∏–Ω–∏—Å—Ç—Ä –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è'],
                    achievements: ['–û—Ç–ª–∏—á–Ω–∏–∫', '–°–ø–æ—Ä—Ç—Å–º–µ–Ω'],
                    tokensAccount: 150,
                    tokensCredit: 50
                }
            };

            try {
                const response = await fetch(API_BASE + '/users', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(testStudent)
                });

                if (response.ok) {
                    const result = await response.json();
                    alert(`‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ç—É–¥–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω!\n\nID: ${result.id}\n–ò–º—è: ${result.lastName} ${result.firstName} ${result.middleName}\n–ö–ª–∞—Å—Å: ${result.profileData?.className}\n–¢–æ–∫–µ–Ω—ã: ${(result.profileData?.tokensAccount || 0) + (result.profileData?.tokensCredit || 0)}`);
                } else {
                    const error = await response.json();
                    alert(`‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è: ${error.message}`);
                }
            } catch (error) {
                alert(`‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${error.message}`);
            }
        }

        function checkTableDisplay() {
            alert(`üìä –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ —Ç–∞–±–ª–∏—Ü–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:\n\n‚úÖ –ö–æ–ª–æ–Ω–∫–∞ "–ö–ª–∞—Å—Å" —Å —Ü–≤–µ—Ç–Ω—ã–º–∏ –±–µ–π–¥–∂–∞–º–∏\n‚úÖ –ö–æ–ª–æ–Ω–∫–∞ "–ö–æ—Ç—Ç–µ–¥–∂"\n‚úÖ –ö–æ–ª–æ–Ω–∫–∞ "–¢–æ–∫–µ–Ω—ã" —Å —Ä–∞–∑–±–∏–≤–∫–æ–π\n‚úÖ –ö–æ–ª–æ–Ω–∫–∞ "–î–æ–ª–∂–Ω–æ—Å—Ç–∏" —Å –ø–µ—Ä–≤—ã–º–∏ 2 –¥–æ–ª–∂–Ω–æ—Å—Ç—è–º–∏\n‚úÖ –û—Ç—á–µ—Å—Ç–≤–æ –ø–æ–¥ –∏–º–µ–Ω–µ–º\n\nüñ±Ô∏è –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–æ–∫—É —Å—Ç—É–¥–µ–Ω—Ç–∞ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞!`);
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            checkSystemStatus();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
            setInterval(checkSystemStatus, 30000);
        };
    </script>
</body>
</html> 