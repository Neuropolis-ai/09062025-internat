<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∏—Ü–µ–π API - –ì–ª–∞–≤–Ω–∞—è</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .header p {
            color: #7f8c8d;
            font-size: 18px;
        }
        .status-card {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            text-align: center;
        }
        .endpoints-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .endpoint-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            transition: transform 0.2s;
        }
        .endpoint-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .endpoint-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .endpoint-desc {
            color: #6c757d;
            margin-bottom: 15px;
        }
        .endpoint-url {
            font-family: monospace;
            background: #e9ecef;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 14px;
            color: #495057;
        }
        .auth-badge {
            display: inline-block;
            background: #ffc107;
            color: #000;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        .public-badge {
            display: inline-block;
            background: #28a745;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        .action-buttons {
            text-align: center;
            margin-top: 30px;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            margin: 0 10px;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            transition: background-color 0.2s;
            cursor: pointer;
        }
        .btn-primary {
            background: #007bff;
            color: white;
        }
        .btn-primary:hover {
            background: #0056b3;
        }
        .btn-success {
            background: #28a745;
            color: white;
        }
        .btn-success:hover {
            background: #1e7e34;
        }
        .info-section {
            background: #e7f3ff;
            border: 1px solid #b8daff;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        .info-title {
            color: #004085;
            font-weight: bold;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè´ –õ–∏—Ü–µ–π-–∏–Ω—Ç–µ—Ä–Ω–∞—Ç "–ü–æ–¥–º–æ—Å–∫–æ–≤–Ω—ã–π"</h1>
            <p>Backend API –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏</p>
        </div>

        <div class="status-card" id="status-card">
            <h3>üìä –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞</h3>
            <p id="server-status">–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è...</p>
        </div>

        <h2>üîó –î–æ—Å—Ç—É–ø–Ω—ã–µ API Endpoints</h2>
        
        <div class="endpoints-grid">
            <div class="endpoint-card">
                <div class="endpoint-title">
                    üìä –°–∏—Å—Ç–µ–º–Ω—ã–µ
                    <span class="public-badge">PUBLIC</span>
                </div>
                <div class="endpoint-desc">–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</div>
                <div class="endpoint-url">GET /api/v1/health</div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-title">
                    üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
                    <span class="public-badge">PUBLIC</span>
                </div>
                <div class="endpoint-desc">–í—Ö–æ–¥, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤</div>
                <div class="endpoint-url">POST /api/v1/auth/login</div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-title">
                    üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
                    <span class="public-badge">PUBLIC</span>
                </div>
                <div class="endpoint-desc">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø—Ä–æ—Ñ–∏–ª–∏, –∫–ª–∞—Å—Å—ã</div>
                <div class="endpoint-url">GET /api/v1/users</div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-title">
                    üõí L-shop
                    <span class="public-badge">PUBLIC</span>
                </div>
                <div class="endpoint-desc">–¢–æ–≤–∞—Ä—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–æ–∫—É–ø–∫–∏</div>
                <div class="endpoint-url">GET /api/v1/products</div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-title">
                    üèõÔ∏è –ê—É–∫—Ü–∏–æ–Ω—ã
                    <span class="auth-badge">JWT</span>
                </div>
                <div class="endpoint-desc">–°–æ–∑–¥–∞–Ω–∏–µ –ª–æ—Ç–æ–≤, —Å—Ç–∞–≤–∫–∏, real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</div>
                <div class="endpoint-url">GET /api/v1/auctions</div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-title">
                    üìÑ –ì–æ—Å–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
                    <span class="auth-badge">JWT</span>
                </div>
                <div class="endpoint-desc">–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –∑–∞—è–≤–∫–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
                <div class="endpoint-url">GET /api/v1/contracts</div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-title">
                    üí¨ –ù–µ–π—Ä–æ—á–∞—Ç
                    <span class="auth-badge">JWT</span>
                </div>
                <div class="endpoint-desc">ChatGPT –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –ø–æ–º–æ—â–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º</div>
                <div class="endpoint-url">GET /api/v1/chat/status</div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-title">
                    üìÅ –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
                    <span class="auth-badge">JWT</span>
                </div>
                <div class="endpoint-desc">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤, Timeweb S3 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</div>
                <div class="endpoint-url">GET /api/v1/storage/status</div>
            </div>

            <div class="endpoint-card">
                <div class="endpoint-title">
                    üìß Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                    <span class="auth-badge">JWT</span>
                </div>
                <div class="endpoint-desc">–û—Ç–ø—Ä–∞–≤–∫–∞ email, —à–∞–±–ª–æ–Ω—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                <div class="endpoint-url">GET /api/v1/email/status</div>
            </div>
        </div>

        <div class="action-buttons">
            <a href="api-test.html" class="btn btn-primary">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API</a>
            <a href="/api/v1/health" class="btn btn-success" target="_blank">üìä Health Check</a>
        </div>

        <div class="info-section">
            <div class="info-title">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤</div>
            <p><strong>Base URL:</strong> http://localhost:3000/api/v1/</p>
            <p><strong>–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:</strong> JWT Bearer —Ç–æ–∫–µ–Ω—ã</p>
            <p><strong>–¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:</strong></p>
            <ul>
                <li><strong>–ê–¥–º–∏–Ω:</strong> admin@lyceum.ru / admin123</li>
                <li><strong>–°—Ç—É–¥–µ–Ω—Ç:</strong> student@lyceum.ru / student123</li>
            </ul>
            <p><strong>WebSocket:</strong> ws://localhost:3000 (–¥–ª—è real-time –∞—É–∫—Ü–∏–æ–Ω–æ–≤)</p>
            <p><strong>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:</strong> <a href="/api/docs" target="_blank">Swagger UI</a></p>
        </div>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞
        async function checkServerStatus() {
            try {
                const response = await fetch('/api/v1/health');
                const data = await response.json();
                
                document.getElementById('server-status').innerHTML = `
                    ‚úÖ <strong>–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç</strong><br>
                    üïê Uptime: ${Math.floor(data.uptime)} —Å–µ–∫—É–Ω–¥<br>
                    üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: ${data.database}<br>
                    üåç –û–∫—Ä—É–∂–µ–Ω–∏–µ: ${data.environment}
                `;
                document.getElementById('status-card').style.background = 
                    'linear-gradient(135deg, #28a745 0%, #20c997 100%)';
            } catch (error) {
                document.getElementById('server-status').innerHTML = `
                    ‚ùå <strong>–°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</strong><br>
                    –û—à–∏–±–∫–∞: ${error.message}
                `;
                document.getElementById('status-card').style.background = 
                    'linear-gradient(135deg, #dc3545 0%, #e74c3c 100%)';
            }
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = checkServerStatus;
    </script>
</body>
</html> 